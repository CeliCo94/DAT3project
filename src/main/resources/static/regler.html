<!doctype html>

<html lang="da" xmlns:th="https://www.thymeleaf.org">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Himmerland HERO</title>
  <link rel="stylesheet" href="/styles.css" />
  <link rel="stylesheet" href="css/regler.css" />
</head>

<body>
    <!-- This is where the shared header is injected -->
    <aside data-include="/partials/header.html"></aside>

  <div class="layout">
    <!-- Shared menu -->
    <aside data-include="/partials/menu.html"></aside>

    <main class="content">
      <section class="card">
        <h2>Regler</h2>

          <div id="rules-list" class="rules-list">
            <!-- Cards will be injected here by rules.js -->
          </div>

      </section>
    </main>
  </div>

  <div id="rule-modal" class="modal hidden">
    <div class="modal-backdrop" onclick="closeRuleModal()"></div>

    <div class="modal-content">
        <h3>Redigér regel</h3>

        <form id="rule-form" onsubmit="saveRule(event)">
            <input type="hidden" id="rule-id">

            <div class="form-row">
                <label>Type af regel:</label>
                <div id="rule-type-display" class="readonly-field"></div>
            </div>

            <div class="form-row">
                <label for="rule-name-input">Reglens navn:</label>
                <input id="rule-name-input" type="text">
            </div>

            <div class="form-row">
                <label for="rule-desc-input">Beskrivelse:</label>
                <textarea id="rule-desc-input" rows="3"></textarea>
            </div>

            <div class="form-row">
                <label for="rule-duration-input">Varighed (timer):</label>
                <input id="rule-duration-input" type="number" min="1" step="1">
            </div>

             <div class="form-row" id="thresholdTempIn">
                <label for="rule-thresholdTempIn">Laveste temperatur for fremløb (°C)</label>
                <input id="rule-thresholdTempIn" type="number" min="1" step="1">
            </div>

            <div class="form-row" id="thresholdTempOut">
                <label for="rule-thresholdTempOut">Laveste temperatur for tilbageløb (°C)</label>
                <input id="rule-thresholdTempOut" type="number" min="1" step="1">
            </div>

            <div class="form-row" id="thresholdHeatWaterFlow">
                <label for="rule-thresholdHeatWaterFlow">Laveste gennemstrømning af vand (L/min)</label>
                <input id="rule-thresholdHeatWaterFlow" type="number" min="1" step="1">
            </div>

            <div class="form-row" id="thresholdHumidity">
                <label for="rule-thresholdHumidity">Laveste gennemstrømning af vand (L/min)</label>
                <input id="rule-thresholdHumidity" type="number" min="1" step="1">
            </div>

            <div class="form-row" id="thresholdWaterFlow">
                <label for="rule-thresholdWaterFlow">Laveste luftfugtighed (%)</label>
                <input id="rule-thresholdWaterFlow" type="number" min="1" step="1">
            </div>

            <!-- Her kan du senere tilføje type-specifikke felter -->

            <div class="modal-actions">
                <button type="button" class="secondary" onclick="closeRuleModal()">
                    Annullér
                </button>
                <button type="submit" class="primary">
                    Gem
                </button>
            </div>
        </form>
    </div>
</div>

  <!-- scripts -->
  <script src="/js/include-menu.js"></script>
  <script src="/js/form-handler.js"></script>
  <script src="/js/regler.js"></script>
</body>
</html>